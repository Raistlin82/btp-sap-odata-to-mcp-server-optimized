
> btp-sap-odata-to-mcp-server@1.0.0 test:mcp:working
> node tests/test-mcp-tools-working.js


ğŸ”§ WORKING MCP TOOLS TEST
==========================

â„¹ ğŸ”§ Testing MCP Server with proper protocol handshake
ğŸ” ğŸš€ Starting MCP server for protocol test...
ğŸ” Server stderr: SAP Logging not available, using fallback
...
ğŸ” Server stderr: {"component":"CloudLoggingService","jse_info":{},"jse_shortmsg":"No service matches logging","level":"warn","message":"âš ï¸  Failed to initialize SAP Cloud Logging, using fallback: No service matches lo...
ğŸ” Server stderr: {"component":"AuthServer","level":"info","message":"âœ… AuthServer constructor completed successfully","service":"btp-sap-odata-to-mcp-server","timestamp":"2025-09-16T08:31:22.161Z"}
...
ğŸ” Server stderr: {"component":"btp-sap-odata-to-mcp-server","level":"info","message":"âœ… Auth server initialized successfully","service":"btp-sap-odata-to-mcp-server","timestamp":"2025-09-16T08:31:22.161Z"}
...
ğŸ” Server stderr: {"component":"btp-sap-odata-to-mcp-server","level":"info","message":"âœ… Health monitoring service initialized","service":"btp-sap-odata-to-mcp-server","timestamp":"2025-09-16T08:31:22.161Z"}
...
ğŸ” Server stderr: {"component":"sap-mcp-server","level":"info","message":"ğŸš€ Starting SAP MCP Server in stdio mode with PRODUCTION authentication...","service":"btp-sap-odata-to-mcp-server","timestamp":"2025-09-16T08:3...
ğŸ” Server stderr: {"component":"sap-mcp-server","level":"info","message":"ğŸ” Initializing SAP Authentication:","service":"btp-sap-odata-to-mcp-server","timestamp":"2025-09-16T08:31:22.163Z"}
...
ğŸ” Server stderr: {"component":"sap-mcp-server","level":"info","message":"   - TokenStore: true","service":"btp-sap-odata-to-mcp-server","timestamp":"2025-09-16T08:31:22.163Z"}
{"component":"sap-mcp-server","level":"in...
ğŸ” Server stderr: {"component":"sap-mcp-server","level":"error","message":"Failed to get design-time destination 'SAP_SYSTEM': Could not find service binding of type 'destination'.","service":"btp-sap-odata-to-mcp-serv...
ğŸ” Server stderr: {"component":"sap-mcp-server","level":"error","message":"Request failed: Could not find service binding of type 'destination'.","service":"btp-sap-odata-to-mcp-server","stack":"Error: Could not find s...
ğŸ” Server stderr: {"component":"sap-mcp-server","level":"error","message":"âŒ Failed to initialize SAP Authentication: Could not find service binding of type 'destination'.","service":"btp-sap-odata-to-mcp-server","stac...
ğŸ” Server stderr: {"component":"sap-mcp-server","level":"info","message":"ğŸ”„ Falling back to basic mode without authentication...","service":"btp-sap-odata-to-mcp-server","timestamp":"2025-09-16T08:31:22.165Z"}
...
ğŸ” Server stderr: {"component":"mcp-server","level":"warn","message":"âš ï¸  MCPAuthManager NOT initialized - tokenStore: false, authServerUrl: undefined","service":"btp-sap-odata-to-mcp-server","timestamp":"2025-09-16T08...
ğŸ” Server stderr: {"component":"mcp-server","level":"info","message":"ğŸ“œ Registering MCP resources for document grounding","service":"btp-sap-odata-to-mcp-server","timestamp":"2025-09-16T08:31:22.166Z"}
...
ğŸ” Server stderr: {"component":"mcp-server","level":"info","message":"âœ… MCP Document Grounding Resources registered: sap://routing-rules, sap://service/{id}/metadata, sap://services","service":"btp-sap-odata-to-mcp-ser...
ğŸ” Server stderr: {"component":"mcp-server","level":"info","message":"ğŸ”§ Registering hierarchical tools for 0 services","service":"btp-sap-odata-to-mcp-server","timestamp":"2025-09-16T08:31:22.166Z"}
...
ğŸ” Server stderr: {"component":"mcp-server","level":"info","message":"âœ… Registered 4 hierarchical discovery tools successfully","service":"btp-sap-odata-to-mcp-server","timestamp":"2025-09-16T08:31:22.166Z"}
...
ğŸ” Server stderr: {"component":"mcp-server","level":"info","message":"âœ… Registered Authentication Check Tool: check-sap-authentication","service":"btp-sap-odata-to-mcp-server","timestamp":"2025-09-16T08:31:22.167Z"}
...
ğŸ” Server stderr: {"component":"mcp-server","level":"info","message":"âœ… Registered Smart Router Tool: sap-smart-query","service":"btp-sap-odata-to-mcp-server","timestamp":"2025-09-16T08:31:22.167Z"}
...
ğŸ” Server stderr: {"component":"mcp-server","level":"info","message":"ğŸ¤– AI-Enhanced tools temporarily disabled for TypeScript fixes","service":"btp-sap-odata-to-mcp-server","timestamp":"2025-09-16T08:31:22.167Z"}
...
ğŸ” Server stderr: {"component":"mcp-server","level":"info","message":"ğŸ¤– Registering AI-Enhanced tools for intelligent SAP operations","service":"btp-sap-odata-to-mcp-server","timestamp":"2025-09-16T08:31:22.167Z"}
...
ğŸ” Server stderr: {"component":"mcp-server","level":"info","message":"ğŸ”„ Registering Phase 3: Real-time Analytics tools","service":"btp-sap-odata-to-mcp-server","timestamp":"2025-09-16T08:31:22.167Z"}
...
ğŸ” Server stderr: {"component":"mcp-server","level":"info","message":"âœ… Registered 4 Real-time Analytics tools: realtime-data-stream, kpi-dashboard-builder, predictive-analytics-engine, business-intelligence-insights",...
ğŸ” Server stderr: {"component":"mcp-server","level":"info","message":"âœ… Registered 8 AI-Enhanced tools: 4 Phase 2 + 4 Phase 3 Real-time Analytics tools","service":"btp-sap-odata-to-mcp-server","timestamp":"2025-09-16T0...
ğŸ” Server stderr: {"component":"mcp-server","level":"info","message":"ğŸ¯ TOTAL TOOLS REGISTERED: 12 (4 Discovery + 4 AI Phase 2 + 4 Real-time Phase 3)","service":"btp-sap-odata-to-mcp-server","timestamp":"2025-09-16T08...
ğŸ” Server stderr: {"component":"mcp-server","level":"info","message":"ğŸ“¡ Connected to stdio transport","service":"btp-sap-odata-to-mcp-server","timestamp":"2025-09-16T08:31:22.167Z"}
...
ğŸ” Server stderr: {"component":"sap-mcp-server","level":"info","message":"SAP MCP Server running on stdio...","service":"btp-sap-odata-to-mcp-server","timestamp":"2025-09-16T08:31:22.167Z"}
...
ğŸ” ğŸ“¤ Sending: initialize
ğŸ” ğŸ“¥ Received response for: 1
ğŸ” âœ… Server initialized with capabilities
ğŸ” ğŸ“¤ Sending: tools/list
ğŸ” ğŸ“¥ Received response for: 1
ğŸ” ğŸ“¥ Received response for: 2
ğŸ” âœ… Got 14 tools from server
âœ… âœ… MCP Protocol Test: PASSED

ğŸ“Š RESULTS SUMMARY:
âœ… Passed: 1
âŒ Failed: 0

ğŸ“‹ Test: MCP Protocol Test
   âœ… Status: SUCCESS
   ğŸ”§ Tools Found: 14
   ğŸ“ Tools List: search-sap-services, discover-service-entities, get-entity-schema, execute-entity-operation, check-sap-authentication, sap-smart-query, natural-query-builder, smart-data-analysis, query-performance-optimizer, business-process-insights, realtime-data-stream, kpi-dashboard-builder, predictive-analytics-engine, business-intelligence-insights
   ğŸ“¡ Completed Steps: initialize â†’ tools_list

ğŸ‰ MCP SERVER IS WORKING!
The server can communicate via MCP protocol and serves tools correctly.
