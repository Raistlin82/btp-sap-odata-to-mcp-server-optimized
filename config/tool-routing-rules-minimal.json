{
  "version": "2.2.0",
  "sessionManagement": {
    "autoStart": {
      "tool": "check-sap-authentication",
      "when": "session_start",
      "automatic": true
    },
    "primaryEntryPoint": {
      "tool": "sap-smart-query",
      "handles": ["natural_language", "odata_queries", "analytics", "realtime", "all_requests"],
      "mandatory": true
    }
  },
  "fallbackRouting": {
    "unknownRequest": {
      "primary": "search-sap-services",
      "viaRouter": true
    },
    "authenticationFailure": {
      "primary": "check-sap-authentication",
      "automatic": true
    },
    "performanceIssue": {
      "primary": "monitor-query-performance",
      "viaRouter": true
    }
  },
  "toolSelectionRules": {
    "naturalLanguagePatterns": {
      "italian": [
        {"pattern": "mostra|visualizza|elenca", "tool": "execute-entity-operation", "confidence": 0.85},
        {"pattern": "cerca|trova|filtra", "tool": "execute-entity-operation", "confidence": 0.85},
        {"pattern": "crea|aggiungi|inserisci", "tool": "execute-entity-operation", "confidence": 0.8},
        {"pattern": "aggiorna|modifica", "tool": "execute-entity-operation", "confidence": 0.8},
        {"pattern": "elimina|cancella|rimuovi", "tool": "execute-entity-operation", "confidence": 0.8},
        {"pattern": "servizi|catalogo", "tool": "search-sap-services", "confidence": 0.9},
        {"pattern": "entit√†|schema|campi", "tool": "discover-service-entities", "confidence": 0.9},
        {"pattern": "performance|lento", "tool": "monitor-query-performance", "confidence": 0.85},
        {"pattern": "tempo reale|streaming", "tool": "realtime-data-stream", "confidence": 0.9},
        {"pattern": "dashboard|kpi", "tool": "kpi-dashboard-builder", "confidence": 0.9},
        {"pattern": "previsioni|predittivo", "tool": "predictive-analytics-engine", "confidence": 0.9}
      ],
      "english": [
        {"pattern": "show|display|list|get", "tool": "execute-entity-operation", "confidence": 0.85},
        {"pattern": "search|find|filter", "tool": "execute-entity-operation", "confidence": 0.85},
        {"pattern": "create|add|insert", "tool": "execute-entity-operation", "confidence": 0.8},
        {"pattern": "update|modify", "tool": "execute-entity-operation", "confidence": 0.8},
        {"pattern": "delete|remove", "tool": "execute-entity-operation", "confidence": 0.8},
        {"pattern": "services|catalog", "tool": "search-sap-services", "confidence": 0.9},
        {"pattern": "entities|schema|fields", "tool": "discover-service-entities", "confidence": 0.9},
        {"pattern": "performance|slow", "tool": "monitor-query-performance", "confidence": 0.85},
        {"pattern": "real.?time|streaming", "tool": "realtime-data-stream", "confidence": 0.9},
        {"pattern": "dashboard|kpi", "tool": "kpi-dashboard-builder", "confidence": 0.9},
        {"pattern": "forecast|predict", "tool": "predictive-analytics-engine", "confidence": 0.9}
      ]
    },
    "directQueryPatterns": [
      {"pattern": "\\$filter", "tool": "execute-entity-operation", "confidence": 0.95},
      {"pattern": "\\$select", "tool": "execute-entity-operation", "confidence": 0.95},
      {"pattern": "\\$expand", "tool": "execute-entity-operation", "confidence": 0.95},
      {"pattern": "\\$orderby", "tool": "execute-entity-operation", "confidence": 0.95},
      {"pattern": "\\$top", "tool": "execute-entity-operation", "confidence": 0.95}
    ],
    "performancePatterns": [
      {"pattern": "slow|performance|optimize", "tool": "monitor-query-performance", "confidence": 0.9},
      {"pattern": "timeout|error", "tool": "monitor-query-performance", "confidence": 0.85}
    ],
    "processPatterns": [
      {"pattern": "workflow|sequence", "tool": "generate-workflow-sequence", "confidence": 0.9},
      {"pattern": "batch|bulk", "tool": "generate-workflow-sequence", "confidence": 0.85}
    ]
  },
  "workflowSequences": {
    "sessionInitialization": [
      {
        "step": 0,
        "tool": "check-sap-authentication",
        "auth": false,
        "automatic": true,
        "when": "session_start"
      },
      {
        "step": 1,
        "tool": "sap-smart-query",
        "auth": false,
        "mandatory": true
      }
    ],
    "dataExploration": [
      {"step": 0, "tool": "search-sap-services", "auth": false},
      {"step": 1, "tool": "discover-service-entities", "auth": false},
      {"step": 2, "tool": "get-entity-schema", "auth": false},
      {"step": 3, "tool": "natural-query-builder", "auth": false},
      {"step": 4, "tool": "execute-entity-operation", "auth": true}
    ]
  }
}