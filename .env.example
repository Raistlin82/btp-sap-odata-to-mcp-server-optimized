# ===========================================
# SAP BTP OData MCP Server Configuration
# ===========================================

# Core Configuration (Required)
# --------------------------------------------

# SAP Identity Authentication Service (IAS)
SAP_IAS_URL=https://your-tenant.accounts.ondemand.com
SAP_IAS_CLIENT_ID=your-client-id-here
SAP_IAS_CLIENT_SECRET=your-client-secret-here

# Server Configuration
PORT=8080
NODE_ENV=development

# SAP Destinations
SAP_DESTINATION_NAME=SAP_S4HANA_Design
SAP_DESTINATION_NAME_RT=SAP_S4HANA_Runtime
SAP_USE_SINGLE_DESTINATION=false

# OData Discovery Configuration (Simplified)
# --------------------------------------------

# Discovery Mode: pattern | business | whitelist | all
ODATA_DISCOVERY_MODE=pattern

# Pattern Mode Configuration
ODATA_INCLUDE_PATTERNS=*API*,Z*,Y*
ODATA_EXCLUDE_PATTERNS=*_TEST*,*_TEMP*,*_DEBUG*,*_INTERNAL*

# Business Mode Configuration (alternative)
# ODATA_DISCOVERY_MODE=business
# ODATA_BUSINESS_DOMAINS=sales,finance,hr

# Whitelist Mode Configuration (alternative)
# ODATA_DISCOVERY_MODE=whitelist
# ODATA_WHITELIST_SERVICES=API_SALES_ORDER_SRV,API_BUSINESS_PARTNER

# Discovery Limits
ODATA_MAX_SERVICES=50
ODATA_REFRESH_INTERVAL=1h

# Authentication Configuration
# --------------------------------------------

# Authentication Mechanism: ias | oauth2 | jwt | basic | apikey | custom
AUTH_MECHANISM=ias
AUTH_SESSION_TIMEOUT=3600000
AUTH_TOKEN_REFRESH=true
AUTH_STRICT_MODE=false

# Logging Configuration
# --------------------------------------------

LOG_LEVEL=info
CLOUD_LOGGING_ENABLED=true
LOG_CORRELATION_ID_HEADER=x-correlation-id
PERFORMANCE_METRICS_ENABLED=true

# Security Configuration
# --------------------------------------------

# CORS Settings
ENABLE_CORS=true
CORS_ORIGINS=http://localhost:*,https://claude.ai

# Session Management
SESSION_TIMEOUT=3600000
MAX_SESSIONS_PER_USER=1

# Performance Configuration
# --------------------------------------------

ENABLE_CACHING=true
CACHE_TTL=1800000
REQUEST_TIMEOUT=30000
REQUEST_RETRIES=3

# AI & Analytics Features (Optional)
# --------------------------------------------

AI_FEATURES_ENABLED=true
AI_CONFIDENCE_THRESHOLD=0.75
MAX_DATA_POINTS_FOR_ANALYSIS=1000
STREAMING_POLL_INTERVAL=5000
ANOMALY_DETECTION_ENABLED=true

# UI Tools Configuration (Optional)
# --------------------------------------------

UI_TOOLS_ENABLED=true
UI_DEFAULT_THEME=sap_horizon
UI_FORM_VALIDATION_STRICT=true
UI_DASHBOARD_REFRESH_INTERVAL=30
UI_MAX_GRID_ROWS=100
UI_REPORT_TIMEOUT=30000

# Health & Monitoring
# --------------------------------------------

ENABLE_HEALTH_CHECKS=true
HEALTH_CHECK_INTERVAL=60000

# Development Only (Local Testing)
# --------------------------------------------

# For local development without SAP BTP services
# destinations=[{"name":"LOCAL_S4","url":"http://localhost:4004"}]

# Advanced Configuration (Optional)
# --------------------------------------------

# Service Name (for logging/monitoring)
SERVICE_NAME=btp-sap-odata-to-mcp-server
SERVICE_VERSION=1.0.0

# Role Collections (if using XSUAA)
# ROLE_COLLECTIONS=MCPAdministrator,MCPUser
# ADMIN_ROLE_COLLECTION=MCPAdministrator
# XSUAA_XSAPPNAME=btp-sap-odata-to-mcp-server